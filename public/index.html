<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üåø Herb On Naturals -</title>
    <script src="https://apis.mappls.com/advancedmaps/v1/f4c410f517ad05591fbebd88cb3742fa/map_load?v=1.5"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap"
        rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/xlsx/0.18.5/xlsx.full.min.js"></script>
    <link rel="stylesheet" href="styles.css">
</head>

<body>
    <div id="app">
        <!--====================LOGIN SCREEN====================-->
        <div id="loginScreen" class="min-h-screen flex items-center justify-center relative overflow-hidden py-10 px-4">
            <!-- Decorative Background Elements -->
            <div class="absolute top-0 left-0 w-full h-full overflow-hidden z-0 pointer-events-none">
                <div
                    class="absolute top-[-10%] left-[-10%] w-64 h-64 md:w-96 md:h-96 bg-blue-300 rounded-full mix-blend-multiply filter blur-3xl opacity-25 animate-blob">
                </div>
                <div
                    class="absolute top-[-10%] right-[-10%] w-64 h-64 md:w-96 md:h-96 bg-indigo-300 rounded-full mix-blend-multiply filter blur-3xl opacity-25 animate-blob animation-delay-2000">
                </div>
                <div
                    class="absolute -bottom-32 left-20 w-64 h-64 md:w-96 md:h-96 bg-sky-300 rounded-full mix-blend-multiply filter blur-3xl opacity-25 animate-blob animation-delay-4000">
                </div>
            </div>

            <!-- Main Card -->
            <div class="relative z-10 w-full max-w-md animate-fadeIn">
                <div class="glass-card p-6 md:p-10 shadow-2xl border border-white/50 backdrop-blur-xl bg-white/40">
                    <!-- Header -->
                    <div class="text-center mb-8">
                        <div class="w-full max-w-sm mx-auto mb-6 mt-6 flex items-center justify-center px-4 relative">
                            <!-- Animated Gradient Border -->
                            <div
                                class="absolute inset-0 bg-gradient-to-r from-blue-300 via-indigo-300 to-sky-300 rounded-3xl blur-xl opacity-50 animate-pulse">
                            </div>
                            <div class="relative bg-white rounded-3xl p-6 shadow-2xl logo-float overflow-hidden">
                                <img src="logo.png" alt="Herb On Naturals"
                                    class="w-full h-auto object-contain drop-shadow-2xl relative z-10">
                                <!-- Gradient Overlay on Logo -->
                                <div
                                    class="absolute inset-0 bg-gradient-to-br from-blue-300/20 via-indigo-300/15 to-sky-300/20 mix-blend-overlay pointer-events-none z-20">
                                </div>
                                <!-- Animated Light Sweep -->
                                <div
                                    class="absolute inset-0 bg-gradient-to-r from-transparent via-white/40 to-transparent -translate-x-full animate-shimmer pointer-events-none z-30">
                                </div>
                            </div>
                        </div>
                    </div>

                    <div id="loginMessage" class="hidden mb-6 p-4 rounded-xl text-sm text-center shadow-sm"></div>

                    <!-- Modern Tabs -->
                    <div class="flex p-1.5 bg-gray-100/80 rounded-2xl mb-8 relative shadow-inner">
                        <button type="button" onclick="switchLoginTab('employee')" id="loginTabEmployee"
                            class="flex-1 py-2.5 rounded-xl text-sm font-bold transition-all duration-300 shadow-sm tab-active z-10">
                            üë§ Emp
                        </button>
                        <button type="button" onclick="switchLoginTab('department')" id="loginTabDept"
                            class="flex-1 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-700 transition-all duration-300 z-10">
                            üè¢ Dept
                        </button>
                        <button type="button" onclick="switchLoginTab('admin')" id="loginTabAdmin"
                            class="flex-1 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:text-gray-700 transition-all duration-300 z-10">
                            ‚öôÔ∏è Admin
                        </button>
                    </div>

                    <!-- Employee Login Form -->
                    <div id="employeeLoginForm" class="space-y-5">
                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <span class="text-gray-400 group-focus-within:text-blue-500 transition-colors">üÜî</span>
                            </div>
                            <input type="text" id="empLoginId" placeholder="Employee ID"
                                class="w-full pl-11 pr-4 py-3.5 bg-white/60 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-blue-400 outline-none transition-all placeholder-gray-400 font-medium">
                        </div>
                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <span class="text-gray-400 group-focus-within:text-blue-500 transition-colors">üîí</span>
                            </div>
                            <input type="password" id="empLoginPass" placeholder="Password"
                                class="w-full pl-11 pr-4 py-3.5 bg-white/60 border border-gray-200 rounded-xl focus:ring-2 focus:ring-emerald-400 focus:border-blue-400 outline-none transition-all placeholder-gray-400 font-medium">
                        </div>

                        <button type="button" onclick="employeeLogin()"
                            class="w-full bg-gradient-to-r from-emerald-500 to-teal-500 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            Sign In
                        </button>

                        <div class="flex gap-3 pt-2">
                            <button type="button" onclick="showRegisterScreen()"
                                class="flex-1 bg-white border border-gray-200 text-gray-600 py-2.5 rounded-xl text-sm font-semibold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2">
                                ‚ú® New Account
                            </button>
                            <button type="button" onclick="showResetScreen()"
                                class="flex-1 bg-white border border-gray-200 text-gray-600 py-2.5 rounded-xl text-sm font-semibold hover:bg-gray-50 transition-colors flex items-center justify-center gap-2">
                                üîë Forgot Pass
                            </button>
                        </div>
                    </div>

                    <!-- Department Login Form -->
                    <div id="departmentLoginForm" class="hidden space-y-5">
                        <div class="flex gap-3 mb-2 p-1 bg-gray-50 rounded-xl">
                            <button type="button" onclick="setDeptType('verification')" id="deptTypeVerify"
                                class="flex-1 py-2.5 rounded-lg text-sm font-bold bg-white text-blue-600 shadow-sm border border-blue-100 transition-all">
                                üìç Verify
                            </button>
                            <button type="button" onclick="setDeptType('dispatch')" id="deptTypeDispatch"
                                class="flex-1 py-2.5 rounded-lg text-sm font-bold text-gray-500 hover:bg-white/50 transition-all">
                                üì¶ Dispatch
                            </button>
                            <button type="button" onclick="setDeptType('delivery')" id="deptTypeDelivery"
                                class="flex-1 py-2.5 rounded-lg text-sm font-bold text-gray-500 hover:bg-white/50 transition-all">
                                üöö Delivery
                            </button>
                        </div>

                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <span class="text-gray-400 group-focus-within:text-blue-500 transition-colors">üè¢</span>
                            </div>
                            <input type="text" id="deptLoginId" placeholder="Department ID"
                                class="w-full pl-11 pr-4 py-3.5 bg-white/60 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none transition-all placeholder-gray-400 font-medium">
                        </div>
                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <span class="text-gray-400 group-focus-within:text-blue-500 transition-colors">üîí</span>
                            </div>
                            <input type="password" id="deptLoginPass" placeholder="Department Password"
                                class="w-full pl-11 pr-4 py-3.5 bg-white/60 border border-gray-200 rounded-xl focus:ring-2 focus:ring-blue-400 focus:border-blue-400 outline-none transition-all placeholder-gray-400 font-medium">
                        </div>

                        <button type="button" onclick="departmentLogin()"
                            class="w-full bg-gradient-to-r from-blue-600 to-indigo-600 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            Login to Panel
                        </button>
                    </div>

                    <!-- Admin Login Form -->
                    <div id="adminLoginForm" class="hidden space-y-5">
                        <div class="p-4 bg-gray-50 rounded-xl border border-gray-100 text-center mb-2">
                            <span class="text-3xl">üõ°Ô∏è</span>
                            <p class="text-xs text-gray-500 mt-2 font-medium uppercase tracking-wider">Restricted Access
                            </p>
                        </div>

                        <div class="relative group">
                            <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                                <span class="text-gray-400 group-focus-within:text-gray-800 transition-colors">üîë</span>
                            </div>
                            <input type="password" id="adminLoginPass" placeholder="Admin Access Key"
                                class="w-full pl-11 pr-4 py-3.5 bg-white/60 border border-gray-200 rounded-xl focus:ring-2 focus:ring-gray-600 focus:border-gray-600 outline-none transition-all placeholder-gray-400 font-medium">
                        </div>

                        <button type="button" onclick="adminLogin()"
                            class="w-full bg-gradient-to-r from-gray-700 to-gray-900 text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all duration-300">
                            Authenticate
                        </button>
                    </div>

                    <!-- Footer -->
                    <div class="mt-8 text-center">
                        <p class="text-xs text-gray-400 font-medium">¬© 2025 Herb On Naturals System</p>
                    </div>
                </div>
            </div>
        </div>
        <!--====================REGISTER SCREEN====================-->
        <div id="registerScreen" class="hidden max-w-md mx-auto mt-10 glass-card p-8 animate-fadeIn">
            <h2 class="text-xl font-bold text-center mb-6">‚ú® New Employee Registration</h2>
            <div id="registerMessage" class="hidden mb-4 p-3 rounded-xl text-sm"></div>
            <div class="space-y-4"><input type="text" id="regName" placeholder="Full Name"
                    class="w-full border-2 rounded-xl px-4 py-3"><input type="text" id="regId"
                    placeholder="Employee ID (e.g., EMP005)" class="w-full border-2 rounded-xl px-4 py-3"><input
                    type="password" id="regPass" placeholder="Password"
                    class="w-full border-2 rounded-xl px-4 py-3"><input type="password" id="regConfirmPass"
                    placeholder="Confirm Password" class="w-full border-2 rounded-xl px-4 py-3"><button type="button"
                    onclick="registerEmployee()" class="w-full btn-primary text-white py-3 rounded-xl font-semibold">‚úÖ
                    Register</button><button type="button" onclick="showLoginScreen()"
                    class="w-full bg-gray-200 text-gray-700 py-3 rounded-xl font-medium">‚Üê Back to
                    Login</button></div>
        </div>
        <!--====================RESET PASSWORD SCREEN====================-->
        <div id="resetScreen" class="hidden max-w-md mx-auto mt-10 glass-card p-8 animate-fadeIn">
            <h2 class="text-xl font-bold text-center mb-6 text-red-500">üîë Reset Password</h2>
            <div id="resetMessage" class="hidden mb-4 p-3 rounded-xl text-sm"></div>
            <div class="space-y-4"><input type="text" id="resetId" placeholder="Employee ID"
                    class="w-full border-2 rounded-xl px-4 py-3"><input type="password" id="resetNewPass"
                    placeholder="New Password" class="w-full border-2 rounded-xl px-4 py-3"><input type="password"
                    id="resetConfirmPass" placeholder="Confirm New Password"
                    class="w-full border-2 rounded-xl px-4 py-3"><button type="button" onclick="resetPassword()"
                    class="w-full bg-red-600 text-white py-3 rounded-xl font-semibold hover:bg-red-700">üîÑ
                    Reset Password</button><button type="button" onclick="showLoginScreen()"
                    class="w-full bg-gray-200 text-gray-700 py-3 rounded-xl font-medium">‚Üê Back to
                    Login</button></div>
        </div>
        <!--====================EMPLOYEE PANEL====================-->
        <div id="employeePanel" class="hidden max-w-7xl mx-auto animate-fadeIn py-6 px-4">

            <!-- Glass Header -->
            <div
                class="glass-card p-6 mb-8 flex flex-col md:flex-row justify-between items-center relative overflow-hidden gap-4">
                <div
                    class="absolute top-0 right-0 w-64 h-64 bg-emerald-400 rounded-full mix-blend-multiply filter blur-3xl opacity-10 -translate-y-1/2 translate-x-1/2">
                </div>

                <div class="relative z-10 text-center md:text-left">
                    <div class="flex flex-col md:flex-row items-center gap-4">
                        <div class="w-12 h-12 bg-white/50 rounded-lg flex items-center justify-center shadow-sm p-1">
                            <img src="icon.png" alt="Herb On Naturals" class="w-full h-full object-contain">
                        </div>
                        <div>
                            <h1 class="text-2xl font-bold text-gray-800">Employee Panel</h1>
                            <p class="text-sm text-gray-500 font-medium">Welcome, <span id="empNameDisplay"
                                    class="font-extrabold text-blue-700 text-lg"></span></p>
                        </div>
                    </div>
                </div>

                <button type="button" onclick="logout()"
                    class="relative z-10 bg-white border border-red-100 text-red-500 px-6 py-2.5 rounded-xl text-sm font-bold hover:bg-red-50 hover:border-red-200 transition-all shadow-sm flex items-center gap-2">
                    <span>üö™</span> Logout
                </button>
            </div>

            <!-- Modern Pill Tabs -->
            <div class="flex md:justify-center justify-start px-4 mb-8 scrollable-tabs pb-2">
                <div
                    class="bg-white/50 p-1.5 rounded-2xl shadow-sm border border-white/50 inline-flex gap-2 backdrop-blur-sm">
                    <button type="button" onclick="switchEmpTab('order')" id="empTabOrder"
                        class="px-5 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 tab-active shadow-sm whitespace-nowrap">
                        <span>üìù</span> New Order
                    </button>
                    <button type="button" onclick="switchEmpTab('tracking')" id="empTabTracking"
                        class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                        <span>üì¶</span> My Orders
                    </button>
                    <button type="button" onclick="switchEmpTab('history')" id="empTabHistory"
                        class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                        <span>üìã</span> History
                    </button>
                    <button type="button" onclick="switchEmpTab('progress')" id="empTabProgress"
                        class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                        <span>üìä</span> Progress
                    </button>
                    <button type="button" onclick="switchEmpTab('cancelled')" id="empTabCancelled"
                        class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                        <span>‚ùå</span> Cancelled
                    </button>
                </div>
            </div>

            <div id="empMessage" class="hidden mb-6 p-4 rounded-2xl text-sm glass-card border-l-4 border-blue-500">
            </div>

            <!-- Order Form Tab -->
            <div id="empOrderTab" class="animate-fadeIn">
                <div class="glass-card p-6 lg:p-8 border-t-4 border-blue-500 relative">
                    <div class="flex items-center gap-3 mb-8 pb-4 border-b border-dashed border-gray-200">
                        <span
                            class="w-10 h-10 rounded-lg bg-emerald-100 flex items-center justify-center text-xl">üìù</span>
                        <div>
                            <h2 class="text-xl font-bold text-gray-800">New Order Entry</h2>
                            <p class="text-xs text-gray-500 font-medium uppercase tracking-wider">Fill details carefully
                            </p>
                        </div>
                    </div>

                    <form id="orderForm" class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                        <!-- Left Column -->
                        <div class="space-y-4">
                            <div><label class="block text-sm font-medium mb-1">Customer Name
                                    *</label><input type="text" name="customerName" required
                                    style="text-transform: capitalize;" oninput="this.value = toTitleCase(this.value)"
                                    class="w-full border-2 rounded-xl px-4 py-2.5 focus:border-blue-500 outline-none">
                            </div>
                            <div><label class="block text-sm font-medium mb-1">Address
                                    (Auto-filled)</label><textarea name="address" readonly rows="2"
                                    class="w-full border-2 rounded-xl px-4 py-2.5 bg-gray-50 text-sm"></textarea>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div><label class="block text-xs font-medium mb-1">H.
                                        NO.</label><input type="text" name="hNo"
                                        class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                </div>
                                <div><label class="block text-xs font-medium mb-1">BLOCK/GALI</label><input type="text"
                                        name="blockGaliNo" class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div><label class="block text-xs font-medium mb-1">VILL/COLONY
                                        *</label><input type="text" name="villColony" required
                                        class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                </div>
                                <div><label class="block text-xs font-medium mb-1">LANDMARK</label><input type="text"
                                        name="landMark" class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div class="relative"><label class="block text-xs font-medium mb-1">P.O.</label><input
                                        type="text" name="po" autocomplete="off"
                                        oninput="handlePostOfficeInput(this.value)"
                                        class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                    <ul id="poSuggestions"
                                        class="absolute z-50 w-full bg-white border border-gray-300 rounded-b-lg shadow-lg max-h-48 overflow-y-auto hidden">
                                    </ul>
                                </div>
                                <div><label class="block text-xs font-medium mb-1">TAH/TALUKA</label><input type="text"
                                        name="tahTaluka" class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div class="relative"><label class="block text-xs font-medium mb-1">DISTT.
                                        *</label><input type="text" name="distt" required autocomplete="off"
                                        oninput="handleDistrictInput(this.value)"
                                        class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                    <ul id="districtSuggestions"
                                        class="absolute z-50 w-full bg-white border border-gray-300 rounded-b-lg shadow-lg max-h-48 overflow-y-auto hidden">
                                    </ul>
                                </div>
                                <div><label class="block text-xs font-medium mb-1">STATE
                                        *</label><input type="text" name="state" required
                                        class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div><label class="block text-xs font-medium mb-1">PIN
                                        *</label><input type="text" name="pin" required maxlength="6"
                                        oninput="fetchPincodeDetails(this.value)"
                                        class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                                </div>
                            </div>
                            <div><label class="block text-xs font-medium mb-1">TREATMENT</label><input type="text"
                                    name="treatment" class="w-full border-2 rounded-lg px-3 py-2 text-sm">
                            </div>
                        </div>
                        <!-- Right Column -->
                        <div class="space-y-4">
                            <div class="grid grid-cols-2 gap-3">
                                <div><label class="block text-sm font-medium mb-1">Date
                                        *</label><input type="date" name="date" required
                                        class="w-full border-2 rounded-xl px-4 py-2.5 bg-white font-medium text-gray-700">
                                </div>
                                <div><label class="block text-sm font-medium mb-1">Time</label><input type="time"
                                        name="time" class="w-full border-2 rounded-xl px-4 py-2.5">
                                </div>
                            </div>
                            <div><label class="block text-sm font-medium mb-1">Tel No.
                                    *</label><input type="tel" name="telNo" required maxlength="10" pattern="\d{10}"
                                    title="10 digit mobile number" class="w-full border-2 rounded-xl px-4 py-2.5">
                            </div>
                            <div><label class="block text-sm font-medium mb-1">Alt
                                    No.</label><input type="tel" name="altNo"
                                    class="w-full border-2 rounded-xl px-4 py-2.5">
                            </div>
                            <div><label class="block text-sm font-medium mb-1">Order
                                    Type</label>
                                <div class="flex gap-4 mt-1"><label class="flex items-center"><input type="radio"
                                            name="orderType" value="NEW" checked class="mr-2">NEW</label><label
                                        class="flex items-center"><input type="radio" name="orderType" value="REORDER"
                                            class="mr-2">REORDER</label></div>
                            </div>
                            <!-- Items -->
                            <div class="bg-emerald-50 p-4 rounded-xl border border-blue-200">
                                <div class="flex justify-between items-center mb-3">
                                    <label class="font-bold text-blue-700">üõí
                                        ITEMS</label><button type="button" onclick="addItem()"
                                        class="bg-emerald-600 text-white px-3 py-1 rounded-lg text-sm hover:bg-emerald-700">+Add</button>
                                </div>
                                <div id="itemsContainer" class="space-y-2 max-h-40 overflow-y-auto">
                                </div>
                                <div
                                    class="mt-3 pt-3 border-t border-blue-300 flex justify-between items-center font-bold text-lg">
                                    <span>Total:</span>
                                    <div class="flex flex-col items-end">
                                        <input type="number" id="totalAmountInput" value="0" oninput="calculateCOD()"
                                            class="w-32 bg-white border-2 border-red-200 rounded-lg px-2 py-1 text-red-500 text-right outline-none focus:border-red-500 transition-colors">
                                        <span id="comboBadge"
                                            class="hidden text-[10px] bg-red-100 text-red-500 px-2 py-0.5 rounded-full mt-1 animate-bounce">üéÅ
                                            COMBO OFFER</span>
                                    </div>
                                </div>
                            </div>
                            <div class="grid grid-cols-2 gap-3">
                                <div><label class="block text-sm font-medium mb-1">Advance</label><input type="number"
                                        name="advance" value="0" min="0" oninput="calculateCOD()"
                                        class="w-full border-2 rounded-xl px-4 py-2.5">
                                </div>
                                <div><label class="block text-sm font-medium mb-1">COD
                                        Amount</label><input type="number" name="codAmount" readonly
                                        class="w-full border-2 rounded-xl px-4 py-2.5 bg-red-50 text-red-700 font-bold">
                                </div>
                            </div><button type="button" onclick="saveOrder()"
                                class="w-full btn-primary text-white py-4 rounded-xl font-bold text-lg shadow-lg hover:shadow-xl hover:-translate-y-1 transition-all">üíæ
                                SAVE ORDER</button>
                        </div>
                    </form>
                </div>
            </div>

            <!-- Tracking Tab -->
            <div id="empTrackingTab" class="hidden animate-fadeIn">
                <div class="justify-between items-center mb-4 px-2 flex flex-col md:flex-row gap-4">
                    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                        <span class="w-2 h-8 bg-blue-500 rounded-full block"></span>
                        My Orders & Tracking
                    </h2>
                    <div class="flex flex-col md:flex-row gap-3 w-full md:w-auto">
                        <input type="text" id="myOrdersSearch" placeholder="üîç Search by Mobile..."
                            oninput="filterMyOrders(this.value)"
                            class="w-full md:flex-1 border-2 rounded-xl px-4 py-2 text-sm font-medium focus:border-blue-500 outline-none">
                        <input type="date" id="myOrdersDate" onchange="loadMyOrders()"
                            class="w-full md:w-auto border-2 rounded-xl px-4 py-2 text-sm font-medium focus:border-blue-500 outline-none">
                        <button type="button" onclick="loadMyOrders()"
                            class="w-full md:w-auto text-blue-600 hover:bg-blue-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center justify-center gap-2">
                            <span>üîÑ</span> Refresh
                        </button>
                    </div>
                </div>
                <div id="myOrdersStats" class="grid grid-cols-2 md:grid-cols-5 gap-3 mb-6"></div>
                <div id="myOrdersList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- History Tab -->
            <div id="empHistoryTab" class="hidden animate-fadeIn">
                <div class="flex flex-col md:flex-row justify-between items-center mb-4 px-2 gap-4">
                    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                        <span class="w-2 h-8 bg-blue-500 rounded-full block"></span>
                        Order History
                    </h2>
                    <div class="flex flex-col md:flex-row gap-3 w-full md:w-auto">
                        <input type="text" id="historySearch" placeholder="üîç Search by Mobile..."
                            oninput="filterMyHistory(this.value)"
                            class="w-full md:w-auto border-2 rounded-xl px-4 py-2 text-sm font-medium focus:border-blue-500 outline-none">
                        <input type="date" id="empHistoryDate" onchange="loadMyHistory()"
                            class="w-full md:w-auto border-2 rounded-xl px-4 py-2 text-sm font-medium focus:border-blue-500 outline-none">
                    </div>
                </div>
                <!-- Changed from space-y-3 to grid for Cards -->
                <div id="myHistoryList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- Progress Tab -->
            <div id="empProgressTab" class="hidden animate-fadeIn">
                <div class="glass-card p-6 mb-6">
                    <div class="flex flex-col md:flex-row justify-between items-center gap-4 mb-6">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-purple-500 rounded-full block"></span>
                            üìä My Progress Report
                        </h2>
                        <div class="flex gap-2">
                            <input type="date" id="empProgressStartDate" class="border rounded-xl px-3 py-2 text-sm">
                            <input type="date" id="empProgressEndDate" class="border rounded-xl px-3 py-2 text-sm">
                            <button type="button" onclick="loadEmpProgress()"
                                class="bg-purple-100 text-purple-700 px-4 py-2 rounded-xl text-sm font-bold hover:bg-purple-200 transition-colors">
                                Filter
                            </button>
                        </div>
                    </div>
                    <div id="empProgressStats" class="grid grid-cols-2 md:grid-cols-4 gap-4 mb-6"></div>
                    <div id="empProgressChart" class="mb-6"></div>
                    <div id="empProgressTable"></div>
                </div>
            </div>

            <!-- Cancelled Tab -->
            <div id="empCancelledTab" class="hidden animate-fadeIn">
                <div class="flex flex-col md:flex-row justify-between items-center mb-4 px-2 gap-4">
                    <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                        <span class="w-2 h-8 bg-red-400 rounded-full block"></span>
                        ‚ùå Cancelled Orders
                    </h2>
                    <div class="flex flex-col md:flex-row gap-3 w-full md:w-auto">
                        <input type="text" id="myCancelledOrdersSearch" placeholder="üîç Search Cancelled..."
                            oninput="filterMyCancelledOrders(this.value)"
                            class="w-full md:flex-1 border-2 rounded-xl px-4 py-2 text-sm font-medium focus:border-red-500 outline-none">
                        <input type="date" id="myCancelledOrdersDate" onchange="loadMyCancelledOrders()"
                            class="w-full md:w-auto border-2 rounded-xl px-4 py-2 text-sm font-medium focus:border-red-500 outline-none">
                        <button type="button" onclick="loadMyCancelledOrders()"
                            class="w-full md:w-auto text-red-500 hover:bg-red-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center justify-center gap-2">
                            <span>üîÑ</span> Refresh
                        </button>
                    </div>
                </div>
                <!-- This will contain the list of cancelled orders -->
                <div id="empCancelledList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>
        </div>
        <!--====================DEPARTMENT PANEL====================-->
        <div id="departmentPanel" class="hidden max-w-7xl mx-auto animate-fadeIn py-6 px-4">
            <!-- Glass Header -->
            <div
                class="glass-card p-6 mb-8 flex flex-col md:flex-row justify-between items-center relative overflow-hidden gap-4">
                <div
                    class="absolute top-0 right-0 w-64 h-64 bg-emerald-400 rounded-full mix-blend-multiply filter blur-3xl opacity-10 -translate-y-1/2 translate-x-1/2">
                </div>

                <div class="relative z-10 text-center md:text-left">
                    <div class="flex flex-col md:flex-row items-center gap-4">
                        <div class="w-12 h-12 bg-white/50 rounded-lg flex items-center justify-center shadow-sm p-1">
                            <img src="icon.png" alt="Herb On Naturals" class="w-full h-full object-contain">
                        </div>
                        <div>
                            <h1 id="deptPanelTitle" class="text-2xl font-bold text-gray-800">Verification Dept</h1>
                            <p class="text-sm text-gray-500 font-medium">Logged in as: <span id="deptIdDisplay"
                                    class="font-bold text-blue-600 font-mono"></span></p>
                        </div>
                    </div>
                </div>


                <div class="flex gap-3 relative z-10 items-center">
                    <button type="button" onclick="logout()"
                        class="bg-red-50 border border-red-100 text-red-500 px-5 py-2.5 rounded-xl text-sm font-bold hover:bg-red-100 transition-all shadow-sm flex items-center gap-2">
                        <span>üö™</span> Logout
                    </button>
                </div>
            </div>

            <div id="deptMessage"
                class="hidden mb-6 p-4 rounded-xl text-sm glass-card border-l-4 border-blue-500 font-medium shadow-md">
            </div>

            <!-- Verification Dept Content -->
            <div id="verificationDeptContent" class="hidden space-y-6">

                <!-- Modern Search Bar (Floating) -->
                <div
                    class="glass-card p-2 max-w-md mx-auto -mt-6 mb-8 shadow-lg sticky top-4 z-30 transition-all hover:scale-[1.02]">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <span class="text-gray-400 text-lg">üîç</span>
                        </div>
                        <input type="tel" id="verificationMobileSearch" placeholder="Quick Search by Mobile..."
                            maxlength="10"
                            class="w-full pl-12 pr-4 py-3 bg-white/80 border-none rounded-xl focus:ring-2 focus:ring-blue-400 outline-none text-gray-800 font-medium placeholder-gray-400"
                            oninput="filterVerificationOrders(this.value)">
                    </div>
                </div>

                <!-- Modern Tabs -->
                <div class="flex justify-center mb-8 scrollable-tabs pb-2">
                    <div
                        class="bg-white/50 p-1.5 rounded-2xl shadow-sm border border-white/50 inline-flex gap-2 backdrop-blur-sm">
                        <button type="button" onclick="switchVerificationTab('pending')" id="verificationTabPending"
                            class="px-6 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 tab-active shadow-sm whitespace-nowrap">
                            <span>üìç</span> Pending
                        </button>
                        <button type="button" onclick="switchVerificationTab('unverified')"
                            id="verificationTabUnverified"
                            class="px-6 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>‚è∏Ô∏è</span> On Hold
                        </button>
                        <button type="button" onclick="switchVerificationTab('history')" id="verificationTabHistory"
                            class="px-6 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>üìã</span> History
                        </button>
                        <button type="button" onclick="switchVerificationTab('cancelled')" id="verificationTabCancelled"
                            class="px-6 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>‚ùå</span> Cancelled
                        </button>
                    </div>
                </div>

                <!-- PENDING TAB -->
                <div id="verificationPendingTab" class="animate-fadeIn">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6 px-2 gap-4">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-blue-500 rounded-full block"></span>
                            Pending Verification
                        </h2>
                        <div class="flex flex-col md:flex-row gap-3 w-full md:w-auto">
                            <!-- Dashboard Stats (Mini) -->
                            <div class="flex gap-2 mr-4">
                                <div
                                    class="bg-blue-100 text-blue-700 px-3 py-1 rounded-lg border border-blue-200 flex flex-col items-center">
                                    <span class="text-[10px] font-bold uppercase">Today</span>
                                    <span class="text-lg font-black leading-none" id="miniStatVerifyToday">0</span>
                                </div>
                                <div
                                    class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-lg border border-indigo-200 flex flex-col items-center">
                                    <span class="text-[10px] font-bold uppercase">Yest</span>
                                    <span class="text-lg font-black leading-none" id="miniStatVerifyYesterday">0</span>
                                </div>
                                <div
                                    class="bg-purple-100 text-purple-700 px-3 py-1 rounded-lg border border-purple-200 flex flex-col items-center">
                                    <span class="text-[10px] font-bold uppercase">7 Days</span>
                                    <span class="text-lg font-black leading-none" id="miniStatVerifyWeek">0</span>
                                </div>
                            </div>

                            <input type="text" id="verificationPendingSearch" placeholder="üîç Search Mobile/Name..."
                                oninput="filterVerificationOrders(this.value)"
                                class="w-full md:flex-1 border-2 rounded-xl px-4 py-2 text-sm font-medium focus:border-blue-500 outline-none">
                            <input type="date" id="verificationPendingDate" onchange="loadDeptOrders()"
                                class="w-full md:w-auto border-2 rounded-xl px-4 py-2 text-sm font-medium focus:border-blue-500 outline-none">
                            <button type="button" onclick="loadDeptOrders()"
                                class="w-full md:w-auto text-blue-600 hover:bg-blue-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center justify-center gap-2">
                                <span>üîÑ</span> Refresh
                            </button>
                        </div>
                    </div>
                    <!-- Quick Filter Buttons -->
                    <div id="dateFilterButtons" class="mb-4 px-2 hidden">
                        <div
                            class="flex flex-wrap gap-2 items-center p-3 bg-gradient-to-r from-blue-50 to-emerald-50 rounded-xl border border-blue-200 shadow-sm">
                            <span class="text-xs font-bold text-gray-600 uppercase tracking-wide">Quick Filters:</span>
                            <div id="filterButtonsContainer" class="flex flex-wrap gap-2"></div>
                        </div>
                    </div>
                    <div id="pendingVerificationList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- UNVERIFIED TAB -->
                <div id="verificationUnverifiedTab" class="hidden animate-fadeIn">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6 px-2 gap-4">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-yellow-500 rounded-full block"></span>
                            On Hold / Unverified
                        </h2>
                        <div class="flex flex-col md:flex-row gap-2 w-full">
                            <input type="text" id="verificationUnverifiedSearch" placeholder="Filter List..."
                                class="w-full bg-white border border-gray-200 rounded-xl px-4 py-2 text-sm focus:outline-none focus:border-yellow-500"
                                oninput="filterVerificationUnverified()">
                            <button type="button" onclick="loadVerificationUnverified()"
                                class="w-full md:w-auto bg-yellow-100 text-yellow-700 px-4 py-2 rounded-xl text-sm font-bold hover:bg-yellow-200 transition-colors">
                                üîÑ Refresh
                            </button>
                        </div>
                    </div>
                    <div id="verificationUnverifiedList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- HISTORY TAB -->
                <div id="verificationHistoryTab" class="hidden animate-fadeIn">
                    <div class="flex justify-between items-center mb-8 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-purple-500 rounded-full block"></span>
                            Participation Stats
                        </h2>
                        <button type="button" onclick="loadVerificationHistory()"
                            class="text-purple-600 hover:bg-purple-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors">
                            üîÑ Refresh Data
                        </button>
                    </div>

                    <!-- Modern Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <!-- Today -->
                        <div onclick="applyQuickDateFilter('verificationHistory', 'today')"
                            class="glass-card p-6 border-b-4 border-blue-500 relative overflow-hidden group hover:shadow-lg transition-all cursor-pointer">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">üìÖ</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Verified Today</p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsVerifyToday">0</h3>
                        </div>

                        <!-- Yesterday -->
                        <div onclick="applyQuickDateFilter('verificationHistory', 'yesterday')"
                            class="glass-card p-6 border-b-4 border-indigo-500 relative overflow-hidden group hover:shadow-lg transition-all cursor-pointer">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">‚èÆÔ∏è</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Yesterday</p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsVerifyYesterday">0</h3>
                        </div>

                        <!-- Weekly -->
                        <div onclick="applyQuickDateFilter('verificationHistory', 'week')"
                            class="glass-card p-6 border-b-4 border-purple-500 relative overflow-hidden group hover:shadow-lg transition-all cursor-pointer">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">üìä</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Last 7 Days</p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsVerifyWeek">0</h3>
                        </div>
                    </div>

                    <!-- Filters Section -->
                    <div class="bg-gray-50 p-6 rounded-2xl border border-gray-100 mb-8">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                            <div class="md:col-span-1">
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">Search</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-2.5 text-gray-400">üîç</span>
                                    <input type="text" id="verificationHistorySearch" placeholder="Name, Phone..."
                                        class="w-full pl-9 pr-4 py-2 border rounded-xl text-sm focus:ring-2 focus:ring-blue-100 outline-none"
                                        oninput="loadVerificationHistory()">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">From</label>
                                <input type="date" id="verificationHistoryStartDate"
                                    class="w-full py-2 px-3 border rounded-xl text-sm focus:ring-2 focus:ring-blue-100 outline-none"
                                    onchange="loadVerificationHistory()">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">To</label>
                                <input type="date" id="verificationHistoryEndDate"
                                    class="w-full py-2 px-3 border rounded-xl text-sm focus:ring-2 focus:ring-blue-100 outline-none"
                                    onchange="loadVerificationHistory()">
                            </div>
                            <div>
                                <button onclick="resetVerificationHistoryFilters()"
                                    class="w-full bg-white border border-red-100 text-red-500 font-bold py-2 rounded-xl text-sm hover:bg-red-50 transition-colors">
                                    Clear Filters
                                </button>
                            </div>
                        </div>
                    </div>

                    <div id="verificationHistoryList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- CANCELLED ORDERS -->
                <div class="mt-8">
                    <div class="flex justify-between items-center mb-6 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-red-400 rounded-full block"></span>
                            ‚ùå Cancelled Orders
                        </h2>
                        <button onclick="loadVerificationCancelled()"
                            class="px-4 py-2 rounded-xl text-sm font-bold text-red-500 hover:bg-red-50 transition-colors">
                            üîÑ Refresh
                        </button>
                    </div>
                    <div id="verificationCancelledList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>
            </div>

            <!-- Dispatch Dept Content -->
            <div id="dispatchDeptContent" class="hidden space-y-6">

                <!-- Modern Search Bar (Floating) -->
                <div
                    class="glass-card p-2 max-w-md mx-auto -mt-6 mb-8 shadow-lg sticky top-4 z-30 transition-all hover:scale-[1.02]">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <span class="text-gray-400 text-lg">üîç</span>
                        </div>
                        <input type="tel" id="dispatchMobileSearch" placeholder="Quick Search by Mobile..."
                            maxlength="10"
                            class="w-full pl-12 pr-4 py-3 bg-white/80 border-none rounded-xl focus:ring-2 focus:ring-indigo-400 outline-none text-gray-800 font-medium placeholder-gray-400"
                            oninput="filterDispatchOrders(this.value)">
                    </div>
                </div>

                <!-- Modern Tabs -->
                <div class="flex justify-center mb-8 scrollable-tabs pb-2">
                    <div
                        class="bg-white/50 p-1.5 rounded-2xl shadow-sm border border-white/50 inline-flex gap-2 backdrop-blur-sm">
                        <button type="button" onclick="switchDispatchTab('ready')" id="dispatchTabReady"
                            class="px-5 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 tab-active shadow-sm whitespace-nowrap">
                            <span>üì¶</span> Ready
                        </button>
                        <button type="button" onclick="switchDispatchTab('requests')" id="dispatchTabRequests"
                            class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>üì¨</span> Requests <span id="requestsCount"
                                class="bg-pink-500 text-white px-1.5 py-0.5 rounded-md text-[10px]">0</span>
                        </button>
                        <button type="button" onclick="switchDispatchTab('dispatched')" id="dispatchTabDispatched"
                            class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>üöö</span> Dispatched
                        </button>
                        <button type="button" onclick="switchDispatchTab('history')" id="dispatchTabHistory"
                            class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>üìã</span> History
                        </button>
                    </div>
                </div>

                <!-- READY TAB -->
                <div id="dispatchReadyTab" class="hidden animate-fadeIn">
                    <div class="flex flex-col md:flex-row justify-between items-center mb-6 px-2 gap-4">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-blue-500 rounded-full block"></span>
                            Ready to Dispatch
                        </h2>

                        <div class="flex flex-col md:flex-row gap-3 w-full md:w-auto">
                            <!-- Dashboard Stats (Mini) -->
                            <div class="flex gap-2 mr-4">
                                <div
                                    class="bg-purple-100 text-purple-700 px-3 py-1 rounded-lg border border-purple-200 flex flex-col items-center">
                                    <span class="text-[10px] font-bold uppercase">Today</span>
                                    <span class="text-lg font-black leading-none" id="miniStatDispatchToday">0</span>
                                </div>
                                <div
                                    class="bg-indigo-100 text-indigo-700 px-3 py-1 rounded-lg border border-indigo-200 flex flex-col items-center">
                                    <span class="text-[10px] font-bold uppercase">Yest</span>
                                    <span class="text-lg font-black leading-none"
                                        id="miniStatDispatchYesterday">0</span>
                                </div>
                                <div
                                    class="bg-blue-100 text-blue-700 px-3 py-1 rounded-lg border border-blue-200 flex flex-col items-center">
                                    <span class="text-[10px] font-bold uppercase">7 Days</span>
                                    <span class="text-lg font-black leading-none" id="miniStatDispatchWeek">0</span>
                                </div>
                            </div>

                            <input type="text" id="dispatchReadySearch" placeholder="üîç Search..."
                                oninput="loadDeptOrders()"
                                class="w-full md:w-40 border-2 rounded-xl px-3 py-2 text-sm font-medium focus:border-blue-500 outline-none">
                            <input type="date" id="dispatchReadyDate" onchange="loadDeptOrders()"
                                class="w-full md:w-auto border-2 rounded-xl px-3 py-2 text-sm font-medium focus:border-blue-500 outline-none">
                            <button type="button" onclick="syncShiprocketStatus()" id="btnSyncShiprocket"
                                class="text-blue-600 hover:bg-blue-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center gap-2 border border-blue-200">
                                ‚òÅÔ∏è Sync Status
                            </button>
                            <button type="button" onclick="loadDeptOrders()"
                                class="text-blue-600 hover:bg-blue-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center gap-2">
                                üîÑ Refresh
                            </button>
                        </div>
                    </div>
                    <div id="readyDispatchList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- REQUESTS TAB -->
                <div id="dispatchRequestsTab" class="hidden animate-fadeIn">
                    <div class="flex justify-between items-center mb-6 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-pink-500 rounded-full block"></span>
                            Delivery Requests
                        </h2>
                        <button type="button" onclick="loadDeliveryRequests()"
                            class="text-pink-600 hover:bg-pink-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center gap-2">
                            üîÑ Refresh
                        </button>
                    </div>
                    <div id="deliveryRequestsList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- DISPATCHED TAB -->
                <div id="dispatchDispatchedTab" class="hidden animate-fadeIn">
                    <div class="flex justify-between items-center mb-6 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-indigo-500 rounded-full block"></span>
                            Dispatched Orders
                        </h2>
                        <div class="flex flex-col md:flex-row gap-3 w-full md:w-auto">
                            <input type="text" id="dispatchedSearch" placeholder="üîç Search..."
                                oninput="loadDispatchedOrders()"
                                class="w-full md:w-40 border-2 rounded-xl px-3 py-2 text-sm font-medium focus:border-indigo-500 outline-none">
                            <input type="date" id="dispatchedDateFilter" onchange="loadDispatchedOrders()"
                                class="w-full md:w-auto border-2 rounded-xl px-3 py-2 text-sm font-medium focus:border-indigo-500 outline-none">
                            <button type="button" onclick="exportDispatchedOrdersFiltered()"
                                class="bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center gap-2 shadow-md">
                                üì• Export Excel
                            </button>
                            <button type="button" onclick="loadDispatchedOrders()"
                                class="text-indigo-600 hover:bg-indigo-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center gap-2">
                                üîÑ Refresh
                            </button>
                        </div>
                    </div>
                    <div id="dispatchedOrdersList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- HISTORY TAB -->
                <div id="dispatchHistoryTab" class="hidden animate-fadeIn">
                    <div class="flex justify-between items-center mb-8 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-purple-500 rounded-full block"></span>
                            Dispatch Stats
                        </h2>
                        <button type="button" onclick="loadDispatchHistory()"
                            class="text-purple-600 hover:bg-purple-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors">
                            üîÑ Refresh Data
                        </button>
                    </div>

                    <!-- Modern Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <!-- Today -->
                        <div
                            class="glass-card p-6 border-b-4 border-purple-500 relative overflow-hidden group hover:shadow-lg transition-all">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">üì¶</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Dispatched Today
                            </p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsDispatchToday">0</h3>
                        </div>

                        <!-- Yesterday -->
                        <div
                            class="glass-card p-6 border-b-4 border-indigo-500 relative overflow-hidden group hover:shadow-lg transition-all">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">‚èÆÔ∏è</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Yesterday</p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsDispatchYesterday">0</h3>
                        </div>

                        <!-- Weekly -->
                        <div
                            class="glass-card p-6 border-b-4 border-blue-500 relative overflow-hidden group hover:shadow-lg transition-all">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">üìä</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Last 7 Days</p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsDispatchWeek">0</h3>
                        </div>
                    </div>

                    <!-- Filters Section -->
                    <div class="bg-gray-50 p-6 rounded-2xl border border-gray-100 mb-8">
                        <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                            <div class="md:col-span-1">
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">Search</label>
                                <div class="relative">
                                    <span class="absolute left-3 top-2.5 text-gray-400">üîç</span>
                                    <input type="text" id="dispatchHistorySearch" placeholder="Name, Phone..."
                                        class="w-full pl-9 pr-4 py-2 border rounded-xl text-sm focus:ring-2 focus:ring-blue-100 outline-none"
                                        oninput="loadDispatchHistory()">
                                </div>
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">From</label>
                                <input type="date" id="dispatchHistoryStart"
                                    class="w-full py-2 px-3 border rounded-xl text-sm focus:ring-2 focus:ring-blue-100 outline-none"
                                    onchange="loadDispatchHistory()">
                            </div>
                            <div>
                                <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">To</label>
                                <input type="date" id="dispatchHistoryEnd"
                                    class="w-full py-2 px-3 border rounded-xl text-sm focus:ring-2 focus:ring-blue-100 outline-none"
                                    onchange="loadDispatchHistory()">
                            </div>
                            <div>
                                <button onclick="resetDispatchHistoryFilters()"
                                    class="w-full bg-white border border-red-100 text-red-500 font-bold py-2 rounded-xl text-sm hover:bg-red-50 transition-colors">
                                    Clear Filters
                                </button>
                            </div>
                        </div>
                    </div>

                    <div id="dispatchHistoryList" class="space-y-4"></div>
                </div>

            </div> <!-- End dispatchDeptContent -->

            <!-- Delivery Dept Content -->
            <div id="deliveryDeptContent" class="hidden space-y-6">

                <!-- Modern Search Bar (Floating) -->
                <div
                    class="glass-card p-2 max-w-md mx-auto -mt-6 mb-8 shadow-lg sticky top-4 z-30 transition-all hover:scale-[1.02]">
                    <div class="relative">
                        <div class="absolute inset-y-0 left-0 pl-4 flex items-center pointer-events-none">
                            <span class="text-gray-400 text-lg">üîç</span>
                        </div>
                        <input type="tel" id="deliveryMobileSearch" placeholder="Quick Search by Mobile..."
                            maxlength="10"
                            class="w-full pl-12 pr-4 py-3 bg-white/80 border-none rounded-xl focus:ring-2 focus:ring-orange-400 outline-none text-gray-800 font-medium placeholder-gray-400"
                            oninput="filterDeliveryOrders(this.value)">
                    </div>
                </div>

                <!-- Modern Tabs -->
                <div class="flex justify-center mb-8 scrollable-tabs pb-2">
                    <div
                        class="bg-white/50 p-1.5 rounded-2xl shadow-sm border border-white/50 inline-flex gap-2 backdrop-blur-sm">
                        <button type="button" onclick="switchDeliveryTab('outfordelivery')"
                            id="deliveryTabOutForDelivery"
                            class="px-5 py-2.5 rounded-xl text-sm font-bold transition-all flex items-center gap-2 tab-active shadow-sm whitespace-nowrap">
                            <span>üöö</span> Out for Delivery
                        </button>
                        <button type="button" onclick="switchDeliveryTab('delivered')" id="deliveryTabDelivered"
                            class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>‚úÖ</span> Delivered
                        </button>
                        <button type="button" onclick="switchDeliveryTab('failed')" id="deliveryTabFailed"
                            class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>‚ùå</span> Failed
                        </button>
                        <button type="button" onclick="switchDeliveryTab('performance')" id="deliveryTabPerformance"
                            class="px-5 py-2.5 rounded-xl text-sm font-bold text-gray-500 hover:bg-white/60 transition-all flex items-center gap-2 whitespace-nowrap">
                            <span>üìä</span> Performance
                        </button>
                    </div>
                </div>

                <!-- OUT FOR DELIVERY TAB -->
                <div id="deliveryOutForDeliveryTab" class="animate-fadeIn">
                    <div class="flex justify-between items-center mb-6 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-orange-400 rounded-full block"></span>
                            Out for Delivery
                        </h2>
                        <button type="button" onclick="loadDeliveryOrders()"
                            class="text-orange-500 hover:bg-orange-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center gap-2">
                            üîÑ Refresh
                        </button>
                    </div>
                    <div id="outForDeliveryList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- DELIVERED TAB -->
                <div id="deliveryDeliveredTab" class="hidden animate-fadeIn">
                    <div class="flex justify-between items-center mb-6 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-teal-500 rounded-full block"></span>
                            Successfully Delivered
                        </h2>
                        <button type="button" onclick="loadDeliveredOrders()"
                            class="text-green-600 hover:bg-green-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center gap-2">
                            üîÑ Refresh
                        </button>
                    </div>
                    <div id="deliveredOrdersList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- FAILED DELIVERY TAB -->
                <div id="deliveryFailedTab" class="hidden animate-fadeIn">
                    <div class="flex justify-between items-center mb-6 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-red-400 rounded-full block"></span>
                            Failed Deliveries
                        </h2>
                        <button type="button" onclick="loadFailedDeliveries()"
                            class="text-red-500 hover:bg-red-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors flex items-center gap-2">
                            üîÑ Refresh
                        </button>
                    </div>
                    <div id="failedDeliveriesList" class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 gap-6">
                    </div>
                </div>

                <!-- PERFORMANCE TAB -->
                <div id="deliveryPerformanceTab" class="hidden animate-fadeIn">
                    <div class="flex justify-between items-center mb-8 px-2">
                        <h2 class="text-xl font-bold text-gray-800 flex items-center gap-2">
                            <span class="w-2 h-8 bg-purple-500 rounded-full block"></span>
                            Delivery Performance
                        </h2>
                        <div class="flex flex-col md:flex-row gap-3 w-full md:w-auto">
                            <input type="date" id="deliveryPerformanceStartDate" onchange="loadDeliveryPerformance()"
                                class="border-2 rounded-xl px-3 py-2 text-sm font-medium focus:border-purple-500 outline-none">
                            <input type="date" id="deliveryPerformanceEndDate" onchange="loadDeliveryPerformance()"
                                class="border-2 rounded-xl px-3 py-2 text-sm font-medium focus:border-purple-500 outline-none">
                            <button type="button" onclick="loadDeliveryPerformance()"
                                class="text-purple-600 hover:bg-purple-50 px-4 py-2 rounded-xl text-sm font-bold transition-colors whitespace-nowrap">
                                üîÑ Refresh Data
                            </button>
                        </div>
                    </div>

                    <!-- Modern Stats Cards -->
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-8">
                        <!-- Today -->
                        <div onclick="applyQuickDateFilter('deliveryPerformance', 'today')"
                            class="glass-card p-6 border-b-4 border-orange-500 relative overflow-hidden group hover:shadow-lg transition-all cursor-pointer">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">üöö</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Delivered Today
                            </p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsDeliveryToday">0</h3>
                        </div>

                        <!-- Yesterday -->
                        <div onclick="applyQuickDateFilter('deliveryPerformance', 'yesterday')"
                            class="glass-card p-6 border-b-4 border-green-500 relative overflow-hidden group hover:shadow-lg transition-all cursor-pointer">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">‚èÆÔ∏è</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Yesterday</p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsDeliveryYesterday">0</h3>
                        </div>

                        <!-- Weekly -->
                        <div onclick="applyQuickDateFilter('deliveryPerformance', 'week')"
                            class="glass-card p-6 border-b-4 border-purple-500 relative overflow-hidden group hover:shadow-lg transition-all cursor-pointer">
                            <div
                                class="absolute right-0 top-0 p-4 opacity-10 group-hover:opacity-20 transition-opacity transform group-hover:scale-110">
                                <span class="text-6xl">üìä</span>
                            </div>
                            <p class="text-sm font-bold text-gray-500 uppercase tracking-wider mb-1">Last 7 Days</p>
                            <h3 class="text-4xl font-bold text-gray-800" id="statsDeliveryWeek">0</h3>
                        </div>
                    </div>

                    <div id="deliveryPerformanceData" class="space-y-4"></div>
                </div>

            </div>
        </div>
        <!--====================ADMIN PANEL====================-->
        <!--====================ADMIN PANEL====================-->
        <div id="adminPanel" class="hidden max-w-7xl mx-auto animate-fadeIn py-6 px-4">
            <!-- Header -->
            <div
                class="glass-card p-6 mb-8 flex flex-col md:flex-row justify-between items-center gap-6 relative overflow-hidden">
                <div
                    class="absolute top-0 right-0 w-64 h-64 bg-indigo-500 rounded-full opacity-10 blur-3xl -mr-16 -mt-16 pointer-events-none">
                </div>
                <div class="relative z-10 flex items-center gap-4">
                    <div class="w-16 h-16 bg-indigo-100 rounded-2xl flex items-center justify-center shadow-sm p-2">
                        <img src="icon.png" alt="Herb On Naturals" class="w-full h-full object-contain">
                    </div>
                    <div>
                        <h1 class="text-3xl font-black text-gray-800 tracking-tight">Admin Panel</h1>
                        <p class="text-gray-500 font-medium">System Control & Overview</p>
                    </div>
                </div>
                <div class="flex gap-3 relative z-10 flex-wrap justify-center">
                    <button type="button" onclick="showRegisterDeptModal()"
                        class="bg-indigo-600 text-white px-5 py-3 rounded-xl text-sm font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 hover:-translate-y-0.5 transition-all flex items-center gap-2">
                        <span>‚ûï</span> Register Dept
                    </button>
                    <button type="button" onclick="showShiprocketModal()"
                        class="bg-orange-400 text-white px-5 py-3 rounded-xl text-sm font-bold shadow-lg shadow-orange-200 hover:bg-orange-500 hover:-translate-y-0.5 transition-all flex items-center gap-2">
                        <span>üöÄ</span> Shiprocket
                    </button>
                    <button type="button" onclick="exportAllOrders()"
                        class="bg-white border border-gray-200 text-gray-700 px-5 py-3 rounded-xl text-sm font-bold hover:bg-gray-50 hover:border-gray-300 transition-all flex items-center gap-2">
                        <span>üì•</span> Export CSV
                    </button>
                    <button type="button" onclick="logout()"
                        class="bg-red-50 text-red-500 border border-red-100 px-5 py-3 rounded-xl text-sm font-bold hover:bg-red-100 transition-all flex items-center gap-2">
                        <span>üö™</span> Logout
                    </button>
                </div>
            </div>

            <!-- Mobile Search -->
            <div class="glass-card p-4 mb-8 flex items-center gap-3">
                <span class="text-xl">üîç</span>
                <input type="tel" id="adminMobileSearch" placeholder="Search Orders by Mobile Number..." maxlength="10"
                    class="w-full bg-transparent text-lg font-medium outline-none placeholder-gray-400"
                    oninput="filterAdminOrders(this.value)">
            </div>

            <!-- Modern Tabs -->
            <div class="scrollable-tabs flex gap-3 mb-8 pb-2 px-1">
                <button onclick="switchAdminTab('pending')" id="adminTabPending"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>üìç</span> Pending
                    <span id="pendingCount" class="bg-red-400 text-white px-2 py-0.5 rounded-full text-[10px]">0</span>
                </button>
                <button onclick="switchAdminTab('verified')" id="adminTabVerified"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>‚úÖ</span> Verified
                    <span id="verifiedCount"
                        class="bg-blue-500 text-white px-2 py-0.5 rounded-full text-[10px]">0</span>
                </button>
                <button onclick="switchAdminTab('dispatched')" id="adminTabDispatched"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>üöö</span> Dispatched
                    <span id="dispatchedCount"
                        class="bg-purple-500 text-white px-2 py-0.5 rounded-full text-[10px]">0</span>
                </button>
                <button onclick="switchAdminTab('delivered')" id="adminTabDelivered"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>üéâ</span> Delivered
                    <span id="deliveredCount"
                        class="bg-teal-500 text-white px-2 py-0.5 rounded-full text-[10px]">0</span>
                </button>
                <button onclick="switchAdminTab('cancelled')" id="adminTabCancelled"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>‚ùå</span> Cancelled
                    <span id="cancelledCount"
                        class="bg-red-400 text-white px-2 py-0.5 rounded-full text-[10px]">0</span>
                </button>
                <button onclick="switchAdminTab('employees')" id="adminTabEmployees"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>üë•</span> Employees
                </button>
                <button onclick="switchAdminTab('departments')" id="adminTabDepartments"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>üè¢</span> Departments
                </button>
                <button onclick="switchAdminTab('history')" id="adminTabHistory"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>üìã</span> History
                </button>
                <button onclick="switchAdminTab('progress')" id="adminTabProgress"
                    class="px-5 py-2.5 rounded-full text-sm font-bold transition-all shadow-sm flex items-center gap-2 bg-white text-gray-600 hover:bg-gray-50 flex-shrink-0">
                    <span>üìä</span> Progress
                </button>
            </div>

            <div id="adminMessage" class="hidden mb-6 p-4 rounded-xl text-sm glass-card border-l-4"></div>

            <!-- PENDING TAB -->
            <div id="adminPendingTab" class="hidden animate-fadeIn space-y-8">
                <!-- Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div onclick="applyQuickDateFilter('adminPending', 'today')"
                        class="glass-card p-6 border-b-4 border-red-500 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-red-500 uppercase tracking-wider mb-1">Total Pending</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminPendingToday">0</h3>
                    </div>
                    <div onclick="applyQuickDateFilter('adminPending', 'yesterday')"
                        class="glass-card p-6 border-b-4 border-red-400 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-red-400 uppercase tracking-wider mb-1">Yesterday</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminPendingYesterday">0</h3>
                    </div>
                    <div onclick="applyQuickDateFilter('adminPending', 'week')"
                        class="glass-card p-6 border-b-4 border-red-300 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-red-300 uppercase tracking-wider mb-1">This Week</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminPendingWeek">0</h3>
                    </div>
                </div>

                <!-- Filters -->
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                        <div class="md:col-span-1">
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">Search</label>
                            <input type="text" id="adminPendingSearch" placeholder="Name, Phone, ID..."
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-red-400 outline-none transition-colors"
                                oninput="loadAdminPending()">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">From</label>
                            <input type="date" id="adminPendingStartDate"
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-red-400 outline-none"
                                onchange="loadAdminPending()">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">To</label>
                            <input type="date" id="adminPendingEndDate"
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-red-400 outline-none"
                                onchange="loadAdminPending()">
                        </div>
                        <div>
                            <button onclick="resetAdminFilters('pending')"
                                class="w-full bg-red-50 text-red-500 font-bold py-2.5 rounded-xl text-sm hover:bg-red-100 transition-colors">
                                Clear Filters
                            </button>
                        </div>
                    </div>
                </div>

                <div id="adminPendingList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- VERIFIED TAB -->
            <div id="adminVerifiedTab" class="hidden animate-fadeIn space-y-8">
                <!-- Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div onclick="applyQuickDateFilter('adminVerified', 'today')"
                        class="glass-card p-6 border-b-4 border-blue-500 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-blue-500 uppercase tracking-wider mb-1">Total Verified</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminVerifiedToday">0</h3>
                    </div>
                    <div onclick="applyQuickDateFilter('adminVerified', 'yesterday')"
                        class="glass-card p-6 border-b-4 border-blue-400 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-blue-400 uppercase tracking-wider mb-1">Yesterday</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminVerifiedYesterday">0</h3>
                    </div>
                    <div onclick="applyQuickDateFilter('adminVerified', 'week')"
                        class="glass-card p-6 border-b-4 border-blue-300 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-blue-300 uppercase tracking-wider mb-1">This Week</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminVerifiedWeek">0</h3>
                    </div>
                </div>

                <!-- Filters -->
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                        <div class="md:col-span-1">
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">Search</label>
                            <input type="text" id="adminVerifiedSearch" placeholder="Name, Phone, ID..."
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-blue-400 outline-none transition-colors"
                                oninput="loadAdminVerified()">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">From</label>
                            <input type="date" id="adminVerifiedStartDate"
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-blue-400 outline-none"
                                onchange="loadAdminVerified()">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">To</label>
                            <input type="date" id="adminVerifiedEndDate"
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-blue-400 outline-none"
                                onchange="loadAdminVerified()">
                        </div>
                        <div>
                            <button onclick="resetAdminFilters('verified')"
                                class="w-full bg-blue-50 text-blue-500 font-bold py-2.5 rounded-xl text-sm hover:bg-blue-100 transition-colors">
                                Clear Filters
                            </button>
                        </div>
                    </div>
                </div>

                <div id="adminVerifiedList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- DISPATCHED TAB -->
            <div id="adminDispatchedTab" class="hidden animate-fadeIn space-y-8">
                <!-- Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div onclick="applyQuickDateFilter('adminDispatched', 'today')"
                        class="glass-card p-6 border-b-4 border-purple-500 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-purple-500 uppercase tracking-wider mb-1">Total Dispatched</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminDispatchedToday">0</h3>
                    </div>
                    <div onclick="applyQuickDateFilter('adminDispatched', 'yesterday')"
                        class="glass-card p-6 border-b-4 border-purple-400 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-purple-400 uppercase tracking-wider mb-1">Yesterday</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminDispatchedYesterday">0</h3>
                    </div>
                    <div onclick="applyQuickDateFilter('adminDispatched', 'week')"
                        class="glass-card p-6 border-b-4 border-purple-300 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-purple-300 uppercase tracking-wider mb-1">This Week</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminDispatchedWeek">0</h3>
                    </div>
                </div>

                <!-- Filters -->
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                        <div class="md:col-span-1">
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">Search</label>
                            <input type="text" id="adminDispatchedSearch" placeholder="Name, Phone, ID..."
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-purple-400 outline-none transition-colors"
                                oninput="loadAdminDispatched()">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">From</label>
                            <input type="date" id="adminDispatchedStartDate"
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-purple-400 outline-none"
                                onchange="loadAdminDispatched()">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">To</label>
                            <input type="date" id="adminDispatchedEndDate"
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-purple-400 outline-none"
                                onchange="loadAdminDispatched()">
                        </div>
                        <div>
                            <button onclick="resetAdminFilters('dispatched')"
                                class="w-full bg-purple-50 text-purple-500 font-bold py-2.5 rounded-xl text-sm hover:bg-purple-100 transition-colors">
                                Clear Filters
                            </button>
                        </div>
                    </div>
                </div>

                <div id="adminDispatchedList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- DELIVERED TAB -->
            <div id="adminDeliveredTab" class="hidden animate-fadeIn space-y-8">
                <!-- Stats -->
                <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
                    <div onclick="applyQuickDateFilter('adminDelivered', 'today')"
                        class="glass-card p-6 border-b-4 border-green-500 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-green-500 uppercase tracking-wider mb-1">Total Delivered</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminDeliveredToday">0</h3>
                    </div>
                    <div onclick="applyQuickDateFilter('adminDelivered', 'yesterday')"
                        class="glass-card p-6 border-b-4 border-green-400 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-green-400 uppercase tracking-wider mb-1">Yesterday</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminDeliveredYesterday">0</h3>
                    </div>
                    <div onclick="applyQuickDateFilter('adminDelivered', 'week')"
                        class="glass-card p-6 border-b-4 border-green-300 cursor-pointer hover:shadow-lg transition-all">
                        <p class="text-xs font-bold text-green-300 uppercase tracking-wider mb-1">This Week</p>
                        <h3 class="text-3xl font-black text-gray-800" id="statsAdminDeliveredWeek">0</h3>
                    </div>
                </div>

                <!-- Filters -->
                <div class="bg-white p-6 rounded-2xl border border-gray-100 shadow-sm">
                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end">
                        <div class="md:col-span-1">
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">Search</label>
                            <input type="text" id="adminDeliveredSearch" placeholder="Name, Phone, ID..."
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-green-400 outline-none transition-colors"
                                oninput="loadAdminDelivered()">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">From</label>
                            <input type="date" id="adminDeliveredStartDate"
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-green-400 outline-none"
                                onchange="loadAdminDelivered()">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 ml-1 uppercase">To</label>
                            <input type="date" id="adminDeliveredEndDate"
                                class="w-full border-2 rounded-xl px-4 py-2 text-sm focus:border-green-400 outline-none"
                                onchange="loadAdminDelivered()">
                        </div>
                        <div>
                            <button onclick="resetAdminFilters('delivered')"
                                class="w-full bg-green-50 text-green-500 font-bold py-2.5 rounded-xl text-sm hover:bg-green-100 transition-colors">
                                Clear Filters
                            </button>
                        </div>
                    </div>
                </div>

                <div id="adminDeliveredList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- CANCELLED TAB -->
            <div id="adminCancelledTab" class="hidden animate-fadeIn space-y-8">
                <div class="flex justify-between items-center mb-6">
                    <h2 class="text-2xl font-black text-gray-800 flex items-center gap-3">
                        <span class="text-3xl">‚ùå</span> Cancelled Orders
                    </h2>
                    <button onclick="loadAdminCancelled()"
                        class="px-5 py-3 rounded-xl text-sm font-bold bg-red-50 text-red-500 hover:bg-red-100 transition-colors shadow-sm">
                        üîÑ Refresh
                    </button>
                </div>
                <div id="adminCancelledList" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"></div>
            </div>

            <!-- OTHER TABS -->
            <div id="adminEmployeesTab" class="hidden animate-fadeIn space-y-6"></div>
            <div id="adminDepartmentsTab" class="hidden animate-fadeIn space-y-6"></div>
            <div id="adminHistoryTab" class="hidden animate-fadeIn space-y-6"></div>

            <!-- PROGRESS TAB -->
            <div id="adminProgressTab" class="hidden animate-fadeIn space-y-8">
                <div class="glass-card p-6">
                    <div class="flex justify-between items-center mb-6">
                        <h2 class="text-2xl font-black text-gray-800 flex items-center gap-3">
                            <span class="text-3xl">üìä</span> Admin Progress Report
                        </h2>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-4 gap-4 items-end mb-8">
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 uppercase">From</label>
                            <input type="date" id="adminProgressStartDate"
                                class="w-full border-2 rounded-xl px-4 py-2.5 text-sm outline-none focus:border-blue-500">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 uppercase">To</label>
                            <input type="date" id="adminProgressEndDate"
                                class="w-full border-2 rounded-xl px-4 py-2.5 text-sm outline-none focus:border-blue-500">
                        </div>
                        <div>
                            <label class="block text-xs font-bold text-gray-500 mb-1 uppercase">Employee</label>
                            <select id="adminProgressEmployee"
                                class="w-full border-2 rounded-xl px-4 py-2.5 text-sm outline-none focus:border-blue-500 bg-white">
                                <option value="">All Employees</option>
                            </select>
                        </div>
                        <div>
                            <button onclick="loadAdminProgress()"
                                class="w-full bg-blue-500 text-white font-bold py-2.5 rounded-xl text-sm hover:bg-blue-600 shadow-lg shadow-blue-200 transition-all">
                                üîç Generate Report
                            </button>
                        </div>
                    </div>

                    <div id="adminProgressStats" class="grid grid-cols-2 md:grid-cols-4 gap-6 mb-8"></div>
                    <div id="adminProgressChart" class="mb-8"></div>
                    <div id="adminProgressTable"></div>
                </div>
            </div>
        </div>
        <!--====================MODALS====================-->
        <!-- Order Details Modal -->
        <div id="orderModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-emerald-600 text-white p-4 rounded-t-2xl flex justify-between items-center">
                    <h3 class="font-bold text-lg">üìã Order Details</h3><button type="button"
                        onclick="closeModal('orderModal')"
                        class="text-2xl hover:bg-white/20 w-8 h-8 rounded-full">√ó</button>
                </div>
                <div id="orderModalContent" class="p-6"></div>
            </div>
        </div>
        <!-- Edit Order Modal -->
        <div id="editOrderModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl max-w-3xl w-full max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-orange-600 text-white p-4 rounded-t-2xl flex justify-between items-center">
                    <h3 class="font-bold text-lg">‚úèÔ∏è Edit Order - <span id="editOrderIdDisplay"></span></h3><button
                        type="button" onclick="closeModal('editOrderModal')"
                        class="text-2xl hover:bg-white/20 w-8 h-8 rounded-full">√ó</button>
                </div>
                <div id="editOrderModalContent" class="p-6"></div>
            </div>
        </div>
        <!-- Dispatch Modal -->
        <div id="dispatchModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl max-w-md w-full">
                <div class="bg-purple-600 text-white p-4 rounded-t-2xl">
                    <h3 class="font-bold text-lg">üì¶ Dispatch Order</h3>
                </div>
                <div class="p-6 space-y-4"><input type="hidden" id="dispatchOrderId">
                    <div><label class="block text-sm font-medium mb-1">Courier
                            Company</label><select id="dispatchCourier" class="w-full border-2 rounded-xl px-4 py-3">
                            <option value="">-- Select Courier --</option>
                            <option value="India Post">India Post</option>
                            <option value="DTDC">DTDC</option>
                            <option value="Blue Dart">Blue Dart</option>
                            <option value="Delhivery">Delhivery</option>
                            <option value="Ekart">Ekart</option>
                            <option value="Xpressbees">Xpressbees</option>
                            <option value="Ecom Express">Ecom Express</option>
                            <option value="Shadowfax">Shadowfax</option>
                            <option value="Amazon">Amazon</option>
                            <option value="Professional">Professional</option>
                            <option value="Other">Other</option>
                        </select></div>
                    <div><label class="block text-sm font-medium mb-1">Tracking
                            ID *</label><input type="text" id="dispatchTrackingId" placeholder="Enter tracking number"
                            class="w-full border-2 rounded-xl px-4 py-3"></div>
                    <div class="flex gap-3"><button type="button" onclick="closeModal('dispatchModal')"
                            class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-medium">Cancel</button><button
                            type="button" onclick="confirmDispatch()"
                            class="flex-1 bg-purple-600 text-white py-3 rounded-xl font-medium hover:bg-purple-700">üöö
                            Dispatch</button></div>
                </div>
            </div>
        </div>
        <!-- Register Department Modal -->
        <div id="registerDeptModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl max-w-md w-full">
                <div class="bg-indigo-600 text-white p-4 rounded-t-2xl">
                    <h3 class="font-bold text-lg">‚ûï Register Department</h3>
                </div>
                <div class="p-6 space-y-4">
                    <div><label class="block text-sm font-medium mb-1">Department
                            Name</label><input type="text" id="newDeptName" placeholder="e.g., Address Team"
                            class="w-full border-2 rounded-xl px-4 py-3">
                    </div>
                    <div><label class="block text-sm font-medium mb-1">Department
                            ID</label><input type="text" id="newDeptId" placeholder="e.g., ADDR001"
                            class="w-full border-2 rounded-xl px-4 py-3">
                    </div>
                    <div><label class="block text-sm font-medium mb-1">Password</label><input type="password"
                            id="newDeptPass" class="w-full border-2 rounded-xl px-4 py-3">
                    </div>
                    <div><label class="block text-sm font-medium mb-1">Department
                            Type</label><select id="newDeptType" class="w-full border-2 rounded-xl px-4 py-3">
                            <option value="verification">üìç Verification
                                Department</option>
                            <option value="dispatch">üì¶ Dispatch Department
                            </option>
                            <option value="delivery">üöö Delivery Department
                            </option>
                        </select></div>
                    <div class="flex gap-3"><button type="button" onclick="closeModal('registerDeptModal')"
                            class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-medium">Cancel</button><button
                            type="button" onclick="registerDepartment()"
                            class="flex-1 bg-indigo-600 text-white py-3 rounded-xl font-medium hover:bg-indigo-700">‚úÖ
                            Register</button></div>
                </div>
            </div>
        </div>
        <!-- Edit Department Modal (Full Edit) -->
        <div id="editDeptModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl max-w-md w-full">
                <div class="bg-orange-600 text-white p-4 rounded-t-2xl flex justify-between items-center">
                    <h3 class="font-bold text-lg">‚úèÔ∏è Full Edit
                        Department</h3><button type="button" onclick="closeModal('editDeptModal')"
                        class="text-2xl hover:bg-white/20 w-8 h-8 rounded-full">√ó</button>
                </div>
                <div class="p-6 space-y-4"><input type="hidden" id="editDeptOldId">
                    <div class="bg-yellow-50 border border-yellow-300 rounded-xl p-3 text-sm text-yellow-800">
                        ‚ö†Ô∏è <strong>Warning:</strong>ID change karne se
                        purani ID delete ho jayegi aur nayi ban jayegi !
                    </div>
                    <div><label class="block text-sm font-medium mb-1">Department
                            ID *</label><input type="text" id="editDeptNewId" placeholder="e.g., ADDR001"
                            class="w-full border-2 rounded-xl px-4 py-3 font-mono">
                        <p class="text-xs text-gray-500 mt-1">Current ID
                            shown above. Change if needed.</p>
                    </div>
                    <div><label class="block text-sm font-medium mb-1">Department
                            Name *</label><input type="text" id="editDeptName" placeholder="e.g., Verification Team"
                            class="w-full border-2 rounded-xl px-4 py-3">
                    </div>
                    <div><label class="block text-sm font-medium mb-1">Password
                            *</label><input type="password" id="editDeptPass" placeholder="Enter new password"
                            class="w-full border-2 rounded-xl px-4 py-3">
                        <p class="text-xs text-gray-500 mt-1">New
                            password set hoga</p>
                    </div>
                    <div><label class="block text-sm font-medium mb-1">Department
                            Type *</label><select id="editDeptType" class="w-full border-2 rounded-xl px-4 py-3">
                            <option value="verification">üìç Verification
                                Department</option>
                            <option value="dispatch">üì¶ Dispatch
                                Department</option>
                            <option value="delivery">üöö Delivery
                                Department</option>
                        </select></div>
                    <div class="flex gap-3 pt-2"><button type="button" onclick="closeModal('editDeptModal')"
                            class="flex-1 bg-gray-200 text-gray-700 py-3 rounded-xl font-medium">Cancel</button><button
                            type="button" onclick="deleteDepartment()"
                            class="bg-red-400 text-white px-4 py-3 rounded-xl font-medium hover:bg-red-500">üóëÔ∏è</button><button
                            type="button" onclick="updateDepartmentFull()"
                            class="flex-1 bg-orange-600 text-white py-3 rounded-xl font-medium hover:bg-orange-700">üíæ
                            Save All</button></div>
                </div>
            </div>
        </div>
        <!-- Employee Profile Modal -->
        <div id="employeeProfileModal"
            class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto">
                <div class="sticky top-0 bg-indigo-600 text-white p-4 rounded-t-2xl flex justify-between items-center">
                    <h3 class="font-bold text-lg">üë§ Employee
                        Profile</h3><button type="button" onclick="closeModal('employeeProfileModal')"
                        class="text-2xl hover:bg-white/20 w-8 h-8 rounded-full">√ó</button>
                </div>
                <div id="employeeProfileContent" class="p-6"></div>
            </div>
        </div>
        <!-- Order Detail Modal with Map -->
        <div id="orderDetailModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
            <div class="bg-white rounded-2xl max-w-5xl w-full max-h-[90vh] overflow-y-auto relative">
                <div id="orderDetailContent" class="p-0">
                    <!-- Content will be populated by viewOrder() function -->
                </div>
            </div>
        </div>
    </div>
    </div>

    <!-- Shiprocket Settings Modal -->
    <div id="shiprocketModal" class="hidden fixed inset-0 bg-black/50 flex items-center justify-center p-4 z-50">
        <div class="bg-white rounded-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto">
            <div class="bg-gradient-to-r from-orange-500 to-red-500 text-white p-6 rounded-t-2xl sticky top-0 z-10">
                <div class="flex justify-between items-center">
                    <div>
                        <h3 class="font-bold text-2xl flex items-center gap-2">
                            <span>üöÄ</span> Shiprocket Integration
                        </h3>
                        <p class="text-orange-100 text-sm mt-1">Automated Courier & AWB Management</p>
                    </div>
                    <button onclick="closeModal('shiprocketModal')"
                        class="text-white text-3xl hover:bg-white/20 w-10 h-10 rounded-full transition">√ó</button>
                </div>
            </div>
            <div class="p-6 space-y-6">
                <!-- Status Display -->
                <div id="shiprocketStatus" class="glass-card p-4"></div>

                <!-- Test Connection -->
                <div class="space-y-3">
                    <h4 class="font-bold text-gray-800 flex items-center gap-2">
                        <span class="w-2 h-6 bg-orange-400 rounded-full"></span>
                        Connection Test
                    </h4>
                    <button type="button" onclick="testShiprocket()"
                        class="w-full bg-orange-400 text-white py-3 rounded-xl font-bold hover:bg-orange-500 transition flex items-center justify-center gap-2">
                        <span>üîå</span> Test Shiprocket Connection
                    </button>
                </div>

                <!-- AWB Generation -->
                <div class="space-y-3">
                    <h4 class="font-bold text-gray-800 flex items-center gap-2">
                        <span class="w-2 h-6 bg-blue-500 rounded-full"></span>
                        Generate AWB
                    </h4>
                    <div class="flex gap-2">
                        <input type="text" id="shiprocketOrderId" placeholder="Enter Order ID (e.g. ORD-00001)"
                            class="flex-1 border-2 rounded-xl px-4 py-3 focus:border-orange-400 outline-none">
                        <button type="button" onclick="generateShiprocketAWB()"
                            class="bg-blue-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-blue-700 transition whitespace-nowrap">
                            üì¶ Generate AWB
                        </button>
                    </div>
                    <div id="awbResult" class="hidden glass-card p-4"></div>
                </div>

                <!-- Track Shipment -->
                <div class="space-y-3">
                    <h4 class="font-bold text-gray-800 flex items-center gap-2">
                        <span class="w-2 h-6 bg-purple-500 rounded-full"></span>
                        Track Shipment
                    </h4>
                    <div class="flex gap-2">
                        <input type="text" id="shiprocketAWB" placeholder="Enter AWB Number"
                            class="flex-1 border-2 rounded-xl px-4 py-3 focus:border-purple-400 outline-none">
                        <button type="button" onclick="trackShiprocket()"
                            class="bg-purple-600 text-white px-6 py-3 rounded-xl font-bold hover:bg-purple-700 transition whitespace-nowrap">
                            üîç Track
                        </button>
                    </div>
                    <div id="trackingResult" class="hidden glass-card p-4"></div>
                </div>
            </div>
        </div>
    </div>

    <!-- District Explorer Modal (From Backup) -->
    <div id="districtExplorerModal"
        class="hidden fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4">
        <div class="bg-white rounded-2xl shadow-2xl max-w-4xl w-full"
            style="max-height: 90vh; display: flex; flex-direction: column;">
            <div
                class="bg-gradient-to-r from-blue-600 to-purple-600 p-4 flex justify-between items-center flex-shrink-0">
                <h3 class="text-xl font-bold text-white" id="districtExplorerTitle">üìç District Explorer</h3>
                <button type="button" onclick="closeModal('districtExplorerModal')"
                    class="text-white text-2xl">√ó</button>
            </div>
            <div class="p-6 overflow-y-auto flex-1" style="min-height: 0;">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                    <div class="bg-blue-50 p-4 rounded-xl">
                        <h4 class="font-bold mb-3">üèõÔ∏è Talukas</h4>
                        <div id="talukasList" class="space-y-2 overflow-y-auto" style="max-height: 60vh;"></div>
                    </div>
                    <div class="bg-purple-50 p-4 rounded-xl">
                        <h4 class="font-bold mb-3">üìÆ Post Offices</h4>
                        <div id="postOfficesList" class="space-y-2 overflow-y-auto" style="max-height: 60vh;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- DISTRICT EXPLORER MODAL -->
    <div id="districtExplorerModal"
        class="hidden fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50">
        <div
            class="bg-white w-full max-w-4xl max-h-[90vh] rounded-2xl shadow-2xl flex flex-col animate-scaleIn overflow-hidden">
            <!-- Header -->
            <div
                class="bg-gradient-to-r from-blue-600 to-indigo-600 p-6 flex justify-between items-center text-white shrink-0">
                <div>
                    <h3 class="text-2xl font-bold flex items-center gap-2">
                        <span>üó∫Ô∏è</span>
                        <span id="districtExplorerTitle">District Explorer</span>
                    </h3>
                    <p class="text-blue-100 text-sm mt-1">Select a Taluka (Block) to see Post Offices</p>
                </div>
                <button onclick="closeModal('districtExplorerModal')"
                    class="bg-white/20 hover:bg-white/30 text-white rounded-full p-2 transition-colors">
                    ‚úï
                </button>
            </div>

            <!-- Body -->
            <div class="flex-1 overflow-hidden flex flex-col md:flex-row">
                <!-- Left: Talukas -->
                <div class="md:w-1/3 bg-gray-50 border-r border-gray-200 flex flex-col">
                    <div class="p-4 bg-gray-100 border-b font-bold text-gray-700 flex justify-between">
                        <span>üèõÔ∏è Taluka / Block</span>
                        <span class="text-xs bg-blue-100 text-blue-800 px-2 py-1 rounded-full"
                            id="talukaCountBadge">0</span>
                    </div>
                    <div id="talukasList" class="flex-1 overflow-y-auto p-2 space-y-2">
                        <!-- Taluka items will be injected here -->
                        <div class="p-4 text-center text-gray-500">Loading...</div>
                    </div>
                </div>

                <!-- Right: Post Offices -->
                <div class="md:w-2/3 flex flex-col bg-white">
                    <div
                        class="p-4 bg-white border-b font-bold text-gray-700 flex justify-between items-center shadow-sm z-10">
                        <span>üìÆ Post Offices</span>
                        <input type="text" placeholder="üîç Filter Offices..."
                            class="border rounded-lg px-3 py-1 text-sm focus:ring-2 focus:ring-blue-500 outline-none"
                            oninput="filterExplorerOffices(this.value)">
                    </div>
                    <div id="postOfficesList"
                        class="flex-1 overflow-y-auto p-4 grid grid-cols-1 md:grid-cols-2 gap-3 content-start">
                        <!-- Post Office items will be injected here -->
                        <div class="col-span-full text-center text-gray-400 py-10">
                            üëà Select a Taluka from the left to view Post Offices
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script src="whatsapp-notifications.js"></script>
    <script src="auto-tracking.js"></script>

</body>

</html>